<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UPLOAD MultiMed-CancerNet</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
      /* Reset and Base Styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        background: linear-gradient(135deg, #ebf8ff 0%, #f0fdf4 100%);
        color: #1f2937;
        line-height: 1.6;
        min-height: 100vh;
      }

      /* Navigation Header */
      .nav-header {
        background: white;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        border-bottom: 1px solid #e5e7eb;
        position: sticky;
        top: 0;
        z-index: 100;
      }

      .nav-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
      }

      .nav-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem 0;
      }

      .nav-left {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .nav-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: #1f2937;
      }

      .nav-badge {
        background: #dbeafe;
        color: #1d4ed8;
        padding: 0.5rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.875rem;
        font-weight: 500;
      }

      /* Page Content */
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
      }

      /* Page Header */
      .page-header {
        text-align: center;
        margin-bottom: 3rem;
      }

      .header-icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        height: 2rem;
        color: #2563eb;
        margin-bottom: 1rem;
      }

      .page-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: #1f2937;
        margin-bottom: 0.5rem;
      }

      .page-subtitle {
        font-size: 1.25rem;
        color: #6b7280;
        font-weight: 500;
        margin-bottom: 1rem;
      }

      /* Cards */
      .card {
        background: white;
        border-radius: 1rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
        border: 1px solid rgba(229, 231, 235, 0.8);
        padding: 1.5rem;
        margin-bottom: 2rem;
        transition: all 0.3s ease;
      }

      .card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
          0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }

      .card-header {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 1rem;
      }

      .card-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: #1f2937;
      }

      /* Grid Layouts */
      .grid-2 {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        margin-bottom: 2rem;
      }

      /* File Upload */
      .upload-container {
        border: 2px dashed #93c5fd;
        border-radius: 0.75rem;
        padding: 2rem;
        text-align: center;
        background: #f9fafb;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .upload-container:hover {
        border-color: #2563eb;
        background: #f0f9ff;
      }

      .upload-container.dragover {
        border-color: #1d4ed8;
        background: #e0f2fe;
      }

      .upload-icon {
        color: #2563eb;
        margin-bottom: 1rem;
      }

      .upload-text {
        font-size: 1rem;
        font-weight: 500;
        color: #374151;
        margin-bottom: 0.5rem;
      }

      .upload-subtext {
        font-size: 0.875rem;
        color: #6b7280;
      }

      .file-list {
        margin-top: 1rem;
        text-align: left;
      }

      .file-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem;
        border-radius: 0.5rem;
        background: #f3f4f6;
        margin-bottom: 0.5rem;
      }

      /* Form Inputs */
      .form-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
      }

      .form-item {
        display: flex;
        flex-direction: column;
      }

      .form-label {
        font-size: 0.875rem;
        font-weight: 500;
        color: #6b7280;
        margin-bottom: 0.25rem;
      }

      .form-input {
        padding: 0.75rem;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        font-size: 1rem;
        color: #1f2937;
        background: #f9fafb;
        transition: all 0.2s;
      }

      .form-input:focus {
        outline: none;
        border-color: #2563eb;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
      }

      /* Action Buttons */
      .action-buttons {
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        padding-top: 2rem;
      }

      .btn {
        padding: 0.75rem 2rem;
        border: none;
        border-radius: 0.75rem;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.2s;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      }

      .btn-primary {
        background: #2563eb;
        color: white;
      }

      .btn-primary:hover {
        background: #1d4ed8;
        transform: translateY(-1px);
      }

      .btn-primary:disabled {
        background: #93c5fd;
        cursor: not-allowed;
      }

      .btn-secondary {
        background: #6b7280;
        color: white;
      }

      .btn-secondary:hover {
        background: #4b5563;
        transform: translateY(-1px);
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .nav-content {
          flex-direction: column;
          gap: 1rem;
        }

        .grid-2 {
          grid-template-columns: 1fr;
        }

        .container {
          padding: 1rem;
        }

        .page-title {
          font-size: 2rem;
        }

        .action-buttons {
          flex-direction: column;
          align-items: center;
        }
      }

      /* Animations */
      .fade-in {
        animation: fadeIn 0.5s ease-in-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation Header -->
    <div class="nav-header">
      <div class="nav-container">
        <div class="nav-content">
          <div class="nav-left">
            <h1 class="nav-title">MultiMed-CancerNet</h1>
            <span class="nav-badge">Upload Data</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Page Content -->
    <div class="container">
      <!-- Page Header -->
      <div class="page-header">
        <div class="header-icon">
          <i data-lucide="upload"></i>
        </div>
        <h1 class="page-title">ðŸ§¬ Upload Medical Data</h1>
        <p class="page-subtitle">
          Upload imaging files and patient information for analysis
        </p>
      </div>

      <!-- Patient Information Form -->
       <form action="/upload" method="post" enctype="multipart/form-data">
        <div class="card">
        <div class="card-header">
          <i data-lucide="user"></i>
          <h2 class="card-title">Patient Information</h2>
        </div>
        <div class="form-grid">
          <div class="form-item">
            <label class="form-label">Patient ID</label>
            <input
              type="text"
              class="form-input"
              id="patient-id"
              placeholder="e.g., PT-2024-001"
              name="patient_id"
              required
            />
          </div>
          <div class="form-item">
            <label class="form-label">Name</label>
            <input
              type="text"
              class="form-input"
              id="patient-name"
              placeholder="e.g., John Doe"
              name="name"
              required
            />
          </div>
          <div class="form-item">
            <label class="form-label">Age</label>
            <input
              type="number"
              class="form-input"
              id="patient-age"
              placeholder="e.g., 52"
              name="age"
              required
            />
          </div>
          <div class="form-item">
            <label class="form-label">Gender</label>
            <select
              class="form-input"
              id="patient-gender"
              name="gender"
              required
            >
              <option value="">Select Gender</option>
              <!-- <option value="Male">Male</option> -->
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
          </div>
        </div>
      </div>

      <!-- File Upload Section -->
      <div class="grid-2">
        <!-- Mammogram Upload -->
        <div class="card">
          <div class="card-header">
            <i data-lucide="image"></i>
            <h2 class="card-title">Mammogram Upload</h2>
          </div>
          <div class="upload-container" id="mammogram-upload">
            <i data-lucide="image" class="upload-icon"></i>
            <p class="upload-text">Drag & Drop Mammogram File</p>
            <p class="upload-subtext">or click to browse (DICOM, PNG, JPEG)</p>
            <input
              type="file"
              id="mammogram-input"
              accept=".dcm,.png,.jpg,.jpeg"
              name="mammogram_path"
              style="display: none"
              required
            />
          </div>
          <div class="file-list" id="mammogram-file-list"></div>
        </div>

        <!-- Ultrasound Upload -->
        <div class="card">
          <div class="card-header">
            <i data-lucide="image"></i>
            <h2 class="card-title">Ultrasound Upload</h2>
          </div>
          <div class="upload-container" id="ultrasound-upload">
            <i data-lucide="image" class="upload-icon"></i>
            <p class="upload-text">Drag & Drop Ultrasound File</p>
            <p class="upload-subtext">or click to browse (DICOM, PNG, JPEG)</p>
            <input
              type="file"
              id="ultrasound-input"
              accept=".dcm,.png,.jpg,.jpeg"
              name="ultrasound_path"
              style="display: none"
              required
            />
          </div>
          <div class="file-list" id="ultrasound-file-list"></div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="action-buttons">
        <button class="btn btn-secondary" id="clear-btn">Clear All</button>
        <button class="btn btn-primary" id="submit-btn"  disabled>
          Submit for Analysis
        </button>
      </div>
    </div>
       </form>
      

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        lucide.createIcons();
        setupFormValidation();
        setupFileUploads();
      });

      let mammogramInput, ultrasoundInput, submitBtn, formInputs;

      function setupFormValidation() {
        formInputs = [
          document.getElementById("patient-id"),
          document.getElementById("patient-name"),
          document.getElementById("patient-age"),
          document.getElementById("patient-gender"),
        ];
        mammogramInput = document.getElementById("mammogram-input");
        ultrasoundInput = document.getElementById("ultrasound-input");
        submitBtn = document.getElementById("submit-btn");
        const clearBtn = document.getElementById("clear-btn");

        formInputs.forEach((input) => {
          input.addEventListener("input", validateForm);
        });

        mammogramInput.addEventListener("change", validateForm);
        ultrasoundInput.addEventListener("change", validateForm);

        clearBtn.addEventListener("click", () => {
          formInputs.forEach((input) => (input.value = ""));
          mammogramInput.value = "";
          ultrasoundInput.value = "";
          document.getElementById("mammogram-file-list").innerHTML = "";
          document.getElementById("ultrasound-file-list").innerHTML = "";
          validateForm();
        });

        submitBtn.addEventListener("click", () => {
          if (!submitBtn.disabled) {
            alert("âœ… Data submitted for analysis. Redirecting to report...");
            // Redirect or form submit logic goes here
            // window.location.href = "/result";
          }
        });
      }

      function validateForm() {
        const allInputsFilled = formInputs.every(
          (input) => input.value.trim() !== ""
        );
        const filesUploaded =
          mammogramInput.files.length > 0 && ultrasoundInput.files.length > 0;
        submitBtn.disabled = !(allInputsFilled && filesUploaded);
      }

      function setupFileUploads() {
        const uploadAreas = [
          {
            container: document.getElementById("mammogram-upload"),
            input: document.getElementById("mammogram-input"),
            fileList: document.getElementById("mammogram-file-list"),
          },
          {
            container: document.getElementById("ultrasound-upload"),
            input: document.getElementById("ultrasound-input"),
            fileList: document.getElementById("ultrasound-file-list"),
          },
        ];

        uploadAreas.forEach((area) => {
          area.container.addEventListener("click", () => area.input.click());

          area.container.addEventListener("dragover", (e) => {
            e.preventDefault();
            area.container.classList.add("dragover");
          });

          area.container.addEventListener("dragleave", () => {
            area.container.classList.remove("dragover");
          });

          area.container.addEventListener("drop", (e) => {
            e.preventDefault();
            area.container.classList.remove("dragover");
            area.input.files = e.dataTransfer.files;
            updateFileList(e.dataTransfer.files, area.fileList);
            validateForm(); // trigger check
          });

          area.input.addEventListener("change", (e) => {
            updateFileList(e.target.files, area.fileList);
            validateForm(); // trigger check
          });
        });

        function updateFileList(files, fileList) {
          fileList.innerHTML = "";
          Array.from(files).forEach((file) => {
            const fileItem = document.createElement("div");
            fileItem.className = "file-item";
            fileItem.innerHTML = `<i data-lucide="file"></i><span>${file.name}</span>`;
            fileList.appendChild(fileItem);
          });
          lucide.createIcons();
        }
      }
    </script>
  </body>
</html>
